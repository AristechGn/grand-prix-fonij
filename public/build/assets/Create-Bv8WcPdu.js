import{P as S,r as z,j as e,B as D}from"./app-2yzgzxBZ.js";import{A as T}from"./app-layout-CIlu1XJc.js";import{B as o}from"./button-CDA18DXN.js";import{I as d}from"./input-CRX0TeMU.js";import{L as n}from"./label-D76CthZk.js";import{T as I}from"./textarea-W7zSqx3o.js";import{C as L,a as k,b as E,c as P,d as A,e as B}from"./card-DDxmbHE3.js";import{C as q}from"./checkbox-DmQoJRWg.js";import{S as R,a as O,b as U,c as V,d as p}from"./select-ulqkX7xL.js";import{T as G,a as J,b as g,c as j}from"./tabs-bCr4zNWY.js";import{I as l}from"./input-error-BPToPE2N.js";import{t as c}from"./index-BnkVWNzj.js";import{P as H}from"./plus-BwqkaIHX.js";import{I as h}from"./info-B-6kr9xm.js";import{C as m}from"./calendar-BTYl7GVq.js";import{a as N}from"./app-sidebar-BU60Sh2T.js";import{C as x}from"./chevron-left-DdtcygmK.js";import{T as v}from"./timer--NGozIbO.js";import{U as Y}from"./users-CnVv293D.js";import{S as K}from"./save-DO_h6Zls.js";import"./chevron-right-BczV_3Qe.js";import"./createLucideIcon-BaRHjmDo.js";import"./index-C32fgW8z.js";import"./index-JAY0tzc9.js";import"./index-DKgpQume.js";import"./index-CFQm2NCd.js";import"./check-BkzULSr1.js";import"./index-BEOR5HtZ.js";import"./x-cWV6jO4w.js";import"./app-logo-icon-BP6XOp1c.js";import"./clock-B440E3jo.js";import"./circle-check-big-BQbpdbmg.js";function Fe(){const{data:a,setData:t,post:b,processing:f,errors:r,reset:_}=S({name:"",year:new Date().getFullYear(),start_date:"",end_date:"",registration_start_date:"",registration_deadline:"",max_participants:0,description:"",status:"draft",is_current:!1}),[C,i]=z.useState("basic"),y=()=>a.name?a.year?a.start_date?a.end_date?new Date(a.end_date)<new Date(a.start_date)?(c.error("La date de fin doit être postérieure à la date de début"),i("dates"),!1):!0:(c.error("La date de fin est requise"),i("dates"),!1):(c.error("La date de début est requise"),i("dates"),!1):(c.error("L'année est requise"),i("basic"),!1):(c.error("Le nom de l'édition est requis"),i("basic"),!1),w=s=>{s.preventDefault(),y()&&b(route("admin.editions.store"),{onSuccess:()=>{c.success("L'édition a été créée avec succès"),_(),window.location.href=route("admin.editions.index")},onError:u=>{console.error("Erreurs:",u),c.error("Une erreur est survenue lors de la création de l'édition"),Object.keys(u).forEach(F=>{c.error(u[F])})}})};return e.jsxs(T,{children:[e.jsx(D,{title:"Créer une édition"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-6xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(L,{className:"shadow-lg border-t-4 border-t-green-500",children:[e.jsx(k,{className:"bg-slate-50 border-b",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx(E,{className:"text-2xl",children:"Créer une nouvelle édition"}),e.jsx(P,{className:"text-slate-500",children:"Remplissez les informations pour créer une nouvelle édition du Grand Prix FONIJ"})]})]})}),e.jsxs("form",{onSubmit:w,children:[e.jsx(A,{className:"pt-6",children:e.jsxs(G,{value:C,onValueChange:i,className:"w-full",children:[e.jsxs(J,{className:"grid grid-cols-3 mb-6",children:[e.jsxs(g,{value:"basic",className:"flex items-center gap-2",children:[e.jsx(h,{size:16}),e.jsx("span",{children:"Informations de base"})]}),e.jsxs(g,{value:"dates",className:"flex items-center gap-2",children:[e.jsx(m,{size:16}),e.jsx("span",{children:"Dates & Participants"})]}),e.jsxs(g,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(N,{size:16}),e.jsx("span",{children:"Configuration"})]})]}),e.jsxs(j,{value:"basic",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"name",className:"flex items-center gap-2",children:[e.jsx(h,{size:16,className:"text-slate-500"}),"Nom de l'édition"]}),e.jsx(d,{id:"name",value:a.name,onChange:s=>t("name",s.target.value),placeholder:"Ex: Grand Prix FONIJ 2025",className:"transition-all duration-200 focus:ring-2 focus:ring-green-500",required:!0}),e.jsx(l,{message:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"year",className:"flex items-center gap-2",children:[e.jsx(m,{size:16,className:"text-slate-500"}),"Année"]}),e.jsx(d,{id:"year",type:"number",value:a.year,onChange:s=>t("year",parseInt(s.target.value)),min:2e3,max:2100,className:"transition-all duration-200 focus:ring-2 focus:ring-green-500"}),e.jsx(l,{message:r.year})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"description",className:"flex items-center gap-2",children:[e.jsx(h,{size:16,className:"text-slate-500"}),"Description"]}),e.jsx(I,{id:"description",value:a.description,onChange:s=>t("description",s.target.value),placeholder:"Description de cette édition...",rows:4,className:"transition-all duration-200 focus:ring-2 focus:ring-green-500"}),e.jsx(l,{message:r.description})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(o,{type:"button",onClick:()=>i("dates"),className:"flex items-center gap-2",children:["Continuer",e.jsx(x,{className:"h-4 w-4 rotate-180"})]})})]}),e.jsxs(j,{value:"dates",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"start_date",className:"flex items-center gap-2",children:[e.jsx(m,{size:16,className:"text-slate-500"}),"Date de début"]}),e.jsx(d,{id:"start_date",type:"date",value:a.start_date,onChange:s=>t("start_date",s.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500"}),e.jsx(l,{message:r.start_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"end_date",className:"flex items-center gap-2",children:[e.jsx(m,{size:16,className:"text-slate-500"}),"Date de fin"]}),e.jsx(d,{id:"end_date",type:"date",value:a.end_date,onChange:s=>t("end_date",s.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500"}),e.jsx(l,{message:r.end_date})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"registration_start_date",className:"flex items-center gap-2",children:[e.jsx(v,{size:16,className:"text-slate-500"}),"Date de début des inscriptions"]}),e.jsx(d,{id:"registration_start_date",type:"date",value:a.registration_start_date,onChange:s=>t("registration_start_date",s.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500"}),e.jsx(l,{message:r.registration_start_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"registration_deadline",className:"flex items-center gap-2",children:[e.jsx(v,{size:16,className:"text-slate-500"}),"Date limite d'inscription"]}),e.jsx(d,{id:"registration_deadline",type:"date",value:a.registration_deadline,onChange:s=>t("registration_deadline",s.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500"}),e.jsx(l,{message:r.registration_deadline})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"max_participants",className:"flex items-center gap-2",children:[e.jsx(Y,{size:16,className:"text-slate-500"}),"Nombre maximum de participants"]}),e.jsx(d,{id:"max_participants",type:"number",value:a.max_participants,onChange:s=>t("max_participants",parseInt(s.target.value)),min:0,className:"transition-all duration-200 focus:ring-2 focus:ring-green-500"}),e.jsx(l,{message:r.max_participants})]})}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsxs(o,{type:"button",variant:"outline",onClick:()=>i("basic"),className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),"Retour"]}),e.jsxs(o,{type:"button",onClick:()=>i("settings"),className:"flex items-center gap-2",children:["Continuer",e.jsx(x,{className:"h-4 w-4 rotate-180"})]})]})]}),e.jsxs(j,{value:"settings",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"status",className:"flex items-center gap-2",children:[e.jsx(N,{size:16,className:"text-slate-500"}),"Statut initial"]}),e.jsxs(R,{value:a.status,onValueChange:s=>t("status",s),children:[e.jsx(O,{className:"transition-all duration-200 focus:ring-2 focus:ring-green-500",children:e.jsx(U,{placeholder:"Sélectionner un statut"})}),e.jsxs(V,{children:[e.jsx(p,{value:"draft",children:"Brouillon"}),e.jsx(p,{value:"published",children:"Publié"}),e.jsx(p,{value:"active",children:"Actif"})]})]}),e.jsx(l,{message:r.status})]}),e.jsxs("div",{className:"flex items-center space-x-2 h-full pt-6",children:[e.jsx(q,{id:"is_current",checked:a.is_current,onCheckedChange:s=>{t("is_current",!!s)}}),e.jsx(n,{htmlFor:"is_current",className:"cursor-pointer",children:"Définir comme édition courante"}),e.jsx(l,{message:r.is_current})]})]}),e.jsx("div",{className:"flex justify-between pt-4",children:e.jsxs(o,{type:"button",variant:"outline",onClick:()=>i("dates"),className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),"Retour"]})})]})]})}),e.jsxs(B,{className:"flex justify-end space-x-4 border-t py-4 bg-slate-50",children:[e.jsx(o,{variant:"outline",type:"button",onClick:()=>window.history.back(),children:"Annuler"}),e.jsxs(o,{type:"submit",disabled:f,className:"bg-green-600 hover:bg-green-700 flex items-center gap-2",children:[e.jsx(K,{size:16}),f?"Création en cours...":"Créer l'édition"]})]})]})]})})})]})}export{Fe as default};
