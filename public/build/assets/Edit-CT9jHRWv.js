import{P as k,r as E,j as e,B as F}from"./app-BHdtU-jg.js";import{A as T}from"./app-layout-DF6-JRv-.js";import{B as c}from"./button-gHGIsv9P.js";import{I as o}from"./input-B0V14bQ4.js";import{L as i}from"./label-BCUeSx-q.js";import{C as P,a as A,b as L,c as I,d as M,e as $}from"./card-t-pYRpV3.js";import{T as B,a as D,b as u,c as f}from"./tabs-CEEn7QvJ.js";import{I as n}from"./input-error-3-TsoBFl.js";import{P as S}from"./pencil-Dvjh3EWO.js";import{U as x}from"./index-CGRYAKMI.js";import{L as N}from"./lock-XnKuV0yl.js";import{U as p}from"./users-0s4CEyF-.js";import{P as U,M as R}from"./phone-Bp66izGY.js";import{H as q,C as v}from"./house-C6deyYZt.js";import{C as H}from"./calendar-B5nMNvaE.js";import{B as y}from"./briefcase-DzG6jHCP.js";import{C as m}from"./chevron-left-CJqheK2T.js";import{a as g}from"./x-nG2A5Ktv.js";import"./index-Bt_uVT_d.js";import"./index-B4257H-3.js";import"./index-C-CQccfE.js";import"./createLucideIcon-q54nbVAu.js";import"./app-logo-icon-CPaG22hb.js";function pe({user:r}){const{data:s,setData:t,put:w,processing:C,errors:l}=k({first_name:r.first_name||"",last_name:r.last_name||"",email:r.email||"",password:"",password_confirmation:"",phone:r.phone||"",role:r.role||"user",address:r.address||"",birth_date:r.birth_date?new Date(r.birth_date).toISOString().split("T")[0]:"",gender:r.gender||"",profession:r.profession||""}),[_,d]=E.useState("information"),z=a=>{a.preventDefault(),w(route("admin.users.update",r.id))},b=s.email&&s.email.includes("@"),h=!s.password||s.password.length>=8,j=!s.password||s.password===s.password_confirmation;return e.jsxs(T,{children:[e.jsx(F,{title:`Modifier ${r.first_name} ${r.last_name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-6xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(P,{className:"shadow-lg border-t-4 border-t-green-500",children:[e.jsx(A,{className:"bg-slate-50 border-b",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"h-5 w-5 text-slate-500"}),e.jsxs("div",{children:[e.jsx(L,{className:"text-2xl",children:"Modifier l'utilisateur"}),e.jsxs(I,{className:"text-slate-500",children:["Modifier les informations de ",r.first_name," ",r.last_name]})]})]})}),e.jsx(M,{className:"pt-6",children:e.jsx("form",{onSubmit:z,className:"space-y-6",children:e.jsxs(B,{value:_,onValueChange:d,className:"w-full",children:[e.jsxs(D,{className:"grid grid-cols-3 mb-6",children:[e.jsxs(u,{value:"information",className:"flex items-center gap-2",children:[e.jsx(x,{size:16}),e.jsx("span",{children:"Information personnelle"})]}),e.jsxs(u,{value:"credentials",className:"flex items-center gap-2",children:[e.jsx(N,{size:16}),e.jsx("span",{children:"Identifiants"})]}),e.jsxs(u,{value:"details",className:"flex items-center gap-2",children:[e.jsx(p,{size:16}),e.jsx("span",{children:"Détails additionnels"})]})]}),e.jsxs(f,{value:"information",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"first_name",className:"flex items-center gap-2",children:[e.jsx(x,{size:16,className:"text-slate-500"}),"Prénom"]}),e.jsx(o,{id:"first_name",value:s.first_name,onChange:a=>t("first_name",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500",placeholder:"Entrez le prénom",required:!0}),e.jsx(n,{message:l.first_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"last_name",className:"flex items-center gap-2",children:[e.jsx(x,{size:16,className:"text-slate-500"}),"Nom"]}),e.jsx(o,{id:"last_name",value:s.last_name,onChange:a=>t("last_name",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500",placeholder:"Entrez le nom",required:!0}),e.jsx(n,{message:l.last_name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"phone",className:"flex items-center gap-2",children:[e.jsx(U,{size:16,className:"text-slate-500"}),"Téléphone"]}),e.jsx(o,{id:"phone",type:"tel",value:s.phone,onChange:a=>t("phone",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500",placeholder:"Entrez le numéro de téléphone"}),e.jsx(n,{message:l.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"address",className:"flex items-center gap-2",children:[e.jsx(q,{size:16,className:"text-slate-500"}),"Adresse"]}),e.jsx(o,{id:"address",value:s.address,onChange:a=>t("address",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500",placeholder:"Entrez l'adresse"}),e.jsx(n,{message:l.address})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"birth_date",className:"flex items-center gap-2",children:[e.jsx(H,{size:16,className:"text-slate-500"}),"Date de naissance"]}),e.jsx(o,{id:"birth_date",type:"date",value:s.birth_date,onChange:a=>t("birth_date",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500"}),e.jsx(n,{message:l.birth_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"gender",className:"flex items-center gap-2",children:[e.jsx(p,{size:16,className:"text-slate-500"}),"Genre"]}),e.jsxs("select",{id:"gender",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500 transition-all duration-200",value:s.gender,onChange:a=>t("gender",a.target.value),children:[e.jsx("option",{value:"",children:"Sélectionner"}),e.jsx("option",{value:"male",children:"Homme"}),e.jsx("option",{value:"female",children:"Femme"}),e.jsx("option",{value:"other",children:"Autre"})]}),e.jsx(n,{message:l.gender})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"profession",className:"flex items-center gap-2",children:[e.jsx(y,{size:16,className:"text-slate-500"}),"Profession"]}),e.jsx(o,{id:"profession",value:s.profession,onChange:a=>t("profession",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-green-500",placeholder:"Entrez la profession"}),e.jsx(n,{message:l.profession})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(c,{type:"button",onClick:()=>d("credentials"),className:"flex items-center gap-2",children:["Continuer",e.jsx(m,{className:"h-4 w-4 rotate-180"})]})})]}),e.jsxs(f,{value:"credentials",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"email",className:"flex items-center gap-2",children:[e.jsx(R,{size:16,className:"text-slate-500"}),"Email"]}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"email",type:"email",value:s.email,onChange:a=>t("email",a.target.value),className:`transition-all duration-200 focus:ring-2 focus:ring-green-500 pr-10 ${s.email?b?"border-green-500":"border-red-500":""}`,placeholder:"exemple@domaine.com",required:!0}),s.email&&(b?e.jsx(g,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-500"}):e.jsx(v,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-500"}))]}),e.jsx(n,{message:l.email})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"password",className:"flex items-center gap-2",children:[e.jsx(N,{size:16,className:"text-slate-500"}),"Mot de passe (laisser vide pour conserver)"]}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"password",type:"password",value:s.password,onChange:a=>t("password",a.target.value),className:`transition-all duration-200 focus:ring-2 focus:ring-green-500 pr-10 ${s.password?h?"border-green-500":"border-red-500":""}`,placeholder:"Minimum 8 caractères"}),s.password&&(h?e.jsx(g,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-500"}):e.jsx(v,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-500"}))]}),e.jsx(n,{message:l.password}),s.password&&!h&&e.jsx("p",{className:"text-xs text-red-500",children:"Le mot de passe doit contenir au moins 8 caractères"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"password_confirmation",className:"flex items-center gap-2",children:[e.jsx(N,{size:16,className:"text-slate-500"}),"Confirmer le mot de passe"]}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"password_confirmation",type:"password",value:s.password_confirmation,onChange:a=>t("password_confirmation",a.target.value),className:`transition-all duration-200 focus:ring-2 focus:ring-green-500 pr-10 ${s.password_confirmation&&s.password?j?"border-green-500":"border-red-500":""}`,placeholder:"Confirmer le mot de passe"}),s.password_confirmation&&s.password&&(j?e.jsx(g,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-green-500"}):e.jsx(v,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-red-500"}))]}),s.password_confirmation&&!j&&e.jsx("p",{className:"text-xs text-red-500",children:"Les mots de passe ne correspondent pas"})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsxs(c,{type:"button",variant:"outline",onClick:()=>d("information"),className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),"Retour"]}),e.jsxs(c,{type:"button",onClick:()=>d("details"),className:"flex items-center gap-2",children:["Continuer",e.jsx(m,{className:"h-4 w-4 rotate-180"})]})]})]}),e.jsxs(f,{value:"details",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(p,{size:16,className:"text-slate-500"}),"Rôle de l'utilisateur"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${s.role==="user"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,onClick:()=>t("role","user"),children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(x,{size:24,className:s.role==="user"?"text-green-500":"text-gray-400"})}),e.jsx("p",{className:"text-center font-medium",children:"Utilisateur"}),e.jsx("p",{className:"text-center text-xs text-gray-500",children:"Accès standard"})]}),e.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${s.role==="admin"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,onClick:()=>t("role","admin"),children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(p,{size:24,className:s.role==="admin"?"text-green-500":"text-gray-400"})}),e.jsx("p",{className:"text-center font-medium",children:"Administrateur"}),e.jsx("p",{className:"text-center text-xs text-gray-500",children:"Accès complet"})]}),e.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${s.role==="jury"?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300"}`,onClick:()=>t("role","jury"),children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(y,{size:24,className:s.role==="jury"?"text-green-500":"text-gray-400"})}),e.jsx("p",{className:"text-center font-medium",children:"Jury"}),e.jsx("p",{className:"text-center text-xs text-gray-500",children:"Évaluation uniquement"})]})]}),e.jsx("input",{type:"hidden",name:"role",value:s.role}),e.jsx(n,{message:l.role})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsxs(c,{type:"button",variant:"outline",onClick:()=>d("credentials"),className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),"Retour"]}),e.jsxs(c,{type:"submit",disabled:C,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700",children:[e.jsx(g,{size:16}),"Enregistrer les modifications"]})]})]})]})})}),e.jsx($,{className:"bg-slate-50 border-t px-6 py-4",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[e.jsxs(c,{type:"button",variant:"outline",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[e.jsx(m,{size:16}),"Retour à la liste"]}),e.jsxs("div",{className:"text-sm text-slate-500",children:["ID utilisateur: ",r.id]})]})})]})})})]})}export{pe as default};
