import{r as f,j as e,B as T,W as n}from"./app-D-cgBubj.js";import{B}from"./badge-EcDzg7Hq.js";import{T as M,a as U,b as u,c as d,d as z,e as c}from"./table--W6O_dP-.js";import{B as l}from"./button-DXAwDJm_.js";import{A as I,D as p,a as N,b as g,c as m,d as P}from"./app-layout-bPVtDLbg.js";import{I as L}from"./input-CfC2WCVl.js";import{C as $,a as F,b as R,c as H,d as q}from"./card-DPJNXbbD.js";import{U as G}from"./users-B7LXdmdt.js";import{D as J}from"./download-CDODwvHg.js";import{P as Q}from"./plus-M6G8bI0k.js";import{S as w}from"./search-wX16lOFe.js";import{F as V}from"./filter-ZExPWlLx.js";import{S as b}from"./shield-Dbl0FHZT.js";import{c as k}from"./createLucideIcon-DmEstM7T.js";import{U as v}from"./index-C3KObty_.js";import{E as y}from"./eye-XHuVJjqg.js";import{P as C}from"./pencil-Ce1KkC8V.js";import{E as W}from"./ellipsis-DUgH_tbH.js";import{T as Z}from"./trash-DHLINZRj.js";import{A as K}from"./arrow-left-CGNAX6_h.js";import{A as O}from"./arrow-right-D8hDOkNc.js";import"./index-D4aJfDW3.js";import"./index-DVZ6bnME.js";import"./index-BuGfEmIu.js";import"./x-Dsp97jpj.js";import"./app-logo-icon-XWG1AfeZ.js";import"./calendar-BPRC_rps.js";import"./clock-DZLK07d0.js";import"./circle-check-big-CEpTWR6w.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]],S=k("Badge",X);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ee=k("Bell",Y);function De({users:a}){const[o,A]=f.useState(""),[i,x]=f.useState("all"),E={admin:"bg-green-100 text-green-800 hover:bg-green-200",jury:"bg-green-100 text-green-800 hover:bg-green-200",user:"bg-slate-100 text-slate-800 hover:bg-slate-200"},_={admin:e.jsx(b,{className:"h-3 w-3 mr-1"}),jury:e.jsx(S,{className:"h-3 w-3 mr-1"}),user:e.jsx(v,{className:"h-3 w-3 mr-1"})},j=a.data.filter(s=>{const h=`${s.first_name} ${s.last_name}`.toLowerCase().includes(o.toLowerCase())||s.email.toLowerCase().includes(o.toLowerCase())||s.phone&&s.phone.includes(o),t=i==="all"||s.role===i;return h&&t}),D=s=>s%3===0?e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 mr-2"}),"En ligne"]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-gray-300 mr-2"}),"Hors ligne"]});return e.jsxs(I,{children:[e.jsx(T,{title:"Gestion des utilisateurs"}),e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs($,{className:"shadow-lg border-t-4 border-t-green-500",children:[e.jsx(F,{className:"bg-slate-50 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(R,{className:"text-2xl flex items-center",children:[e.jsx(G,{className:"h-6 w-6 mr-2 text-green-500"}),"Gestion des utilisateurs"]}),e.jsxs(H,{className:"text-slate-500",children:[a.total," utilisateurs enregistrés au total"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(p,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(l,{variant:"outline",className:"flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Exporter"]})}),e.jsxs(g,{align:"end",children:[e.jsx(m,{children:"Export CSV"}),e.jsx(m,{children:"Export Excel"}),e.jsx(m,{children:"Export PDF"})]})]}),e.jsx(n,{href:route("admin.users.create"),children:e.jsxs(l,{className:"flex items-center bg-green-600 hover:bg-green-700",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Nouvel utilisateur"]})})]})]})}),e.jsxs(q,{className:"p-6",children:[e.jsxs("div",{className:"mb-6 flex flex-wrap gap-4 justify-between items-center",children:[e.jsxs("div",{className:"relative flex-1 min-w-[250px]",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(L,{placeholder:"Rechercher un utilisateur...",className:"pl-10",value:o,onChange:s=>A(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:i==="all"?"default":"outline",onClick:()=>x("all"),className:"flex items-center",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Tous"]}),e.jsxs(l,{variant:i==="admin"?"default":"outline",onClick:()=>x("admin"),className:"flex items-center",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Administrateurs"]}),e.jsxs(l,{variant:i==="jury"?"default":"outline",onClick:()=>x("jury"),className:"flex items-center",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Jury"]}),e.jsxs(l,{variant:i==="user"?"default":"outline",onClick:()=>x("user"),className:"flex items-center",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Utilisateurs"]})]})]}),e.jsx("div",{className:"rounded-lg border overflow-hidden",children:e.jsxs(M,{children:[e.jsx(U,{children:e.jsxs(u,{className:"bg-slate-50",children:[e.jsx(d,{className:"text-slate-700 font-semibold",children:"Utilisateur"}),e.jsx(d,{className:"text-slate-700 font-semibold",children:"Contact"}),e.jsx(d,{className:"text-slate-700 font-semibold",children:"Statut"}),e.jsx(d,{className:"text-slate-700 font-semibold",children:"Rôle"}),e.jsx(d,{className:"text-right text-slate-700 font-semibold",children:"Actions"})]})}),e.jsx(z,{children:j.length>0?j.map(s=>e.jsxs(u,{className:"hover:bg-slate-50",children:[e.jsx(c,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 font-bold",children:[s.first_name[0],s.last_name[0]]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:[s.first_name," ",s.last_name]}),e.jsxs("div",{className:"text-sm text-slate-500",children:["ID: ",s.id]})]})]})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ee,{className:"h-3 w-3 mr-2 text-slate-400"}),s.email]}),e.jsx("div",{className:"flex items-center text-sm text-slate-500",children:s.phone||"Pas de téléphone"})]})}),e.jsx(c,{children:D(s.id)}),e.jsx(c,{children:e.jsxs(B,{className:`${E[s.role]||"bg-gray-100 text-gray-800"} flex items-center`,children:[_[s.role],s.role==="admin"?"Administrateur":s.role==="jury"?"Jury":"Utilisateur"]})}),e.jsx(c,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(n,{href:route("admin.users.show",s.id),children:e.jsx(l,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(y,{className:"h-4 w-4"})})}),e.jsx(n,{href:route("admin.users.edit",s.id),children:e.jsx(l,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(C,{className:"h-4 w-4"})})}),e.jsxs(p,{children:[e.jsx(N,{asChild:!0,children:e.jsx(l,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(W,{className:"h-4 w-4"})})}),e.jsxs(g,{align:"end",children:[e.jsx(m,{asChild:!0,children:e.jsxs(n,{href:route("admin.users.show",s.id),children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Voir le profil"]})}),e.jsx(m,{asChild:!0,children:e.jsxs(n,{href:route("admin.users.edit",s.id),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Modifier"]})}),e.jsx(P,{}),e.jsx(m,{asChild:!0,children:e.jsxs(n,{href:route("admin.users.destroy",s.id),method:"delete",as:"button",className:"text-red-500 w-full text-left",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Supprimer"]})})]})]})]})})]},s.id)):e.jsx(u,{children:e.jsx(c,{colSpan:5,className:"text-center py-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-500",children:[e.jsx(w,{className:"h-10 w-10 mb-2"}),e.jsx("h3",{className:"text-lg font-medium",children:"Aucun utilisateur trouvé"}),e.jsx("p",{className:"max-w-sm mt-1",children:"Aucun utilisateur ne correspond à vos critères de recherche. Essayez de modifier votre recherche."})]})})})})]})}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-slate-500",children:["Affichage de ",j.length," sur ",a.total," utilisateurs"]}),a.links&&a.links.length>3&&e.jsxs("div",{className:"flex justify-center sm:justify-end space-x-1",children:[e.jsxs(l,{variant:"outline",onClick:()=>window.location.href=a.links[0].url||"",disabled:!a.links[0].url,className:"flex items-center",size:"sm",children:[e.jsx(K,{className:"h-4 w-4 mr-1"}),"Première"]}),a.links.slice(1,-1).map((s,h)=>{const t=a.current_page,r=parseInt(s.label);return isNaN(r)?null:r===1||r===a.last_page||r>=t-2&&r<=t+2?e.jsx(l,{variant:s.active?"default":"outline",onClick:()=>window.location.href=s.url||"",disabled:!s.url,size:"sm",className:`${s.active?"bg-green-600 hover:bg-green-700":""}`,children:s.label.replace(/&laquo;|&raquo;/g,"")},h):r===t-3&&t>4||r===t+3&&t<a.last_page-3?e.jsx(l,{variant:"outline",disabled:!0,size:"sm",children:"..."},h):null}),e.jsxs(l,{variant:"outline",onClick:()=>window.location.href=a.links[a.links.length-1].url||"",disabled:!a.links[a.links.length-1].url,className:"flex items-center",size:"sm",children:["Dernière",e.jsx(O,{className:"h-4 w-4 ml-1"})]})]})]})]})]})})})]})}export{De as default};
