import{r as w,j as e,B as y,W as r}from"./app-xeWqMw02.js";import{A as C,D as j,a as p,b as u,c as l,d as D}from"./app-layout-CiPMfGGB.js";import{B as t}from"./button-DpcfQQuF.js";import{I as T}from"./input-Bero_M9q.js";import{B as f}from"./badge-CXa4a3ZD.js";import{T as A,a as E,b as x,c,d as _,e as i}from"./table-DDltfCKg.js";import{C as S,a as B,b as L,c as z,d as M}from"./card-DenU_v66.js";import{C as o}from"./calendar-0dO8aJrl.js";import{D as P}from"./download-DgdrDmEB.js";import{P as k}from"./plus-B0LhIUhW.js";import{S as F}from"./search-_YFBuYdd.js";import{T as R}from"./timer-BfW3hKTH.js";import{U as I}from"./users-DJmzVTbx.js";import{F as N}from"./index-C7PuUbtv.js";import{E as H}from"./eye-CCp2AMfD.js";import{P as V}from"./pencil-DSk7VVzG.js";import{E as G}from"./ellipsis-CVoFJ3sI.js";import{T as U}from"./trash-Bz9t-UNb.js";import{A as W}from"./arrow-left-Ci9uW2AJ.js";import{A as q}from"./arrow-right-FVysajjH.js";import"./index-CSIUTIcG.js";import"./index-DEpnV4UD.js";import"./index-vqPFnmh1.js";import"./x-CZfyUtcJ.js";import"./createLucideIcon-CpV1pLD_.js";import"./app-logo-icon-D5eZye9z.js";import"./clock-B-ZYNtz_.js";import"./circle-check-big-DW4eD9wy.js";function ge({editions:a}){const[n,b]=w.useState(""),h=a.data.filter(s=>{var m;return s.name.toLowerCase().includes(n.toLowerCase())||((m=s.description)==null?void 0:m.toLowerCase().includes(n.toLowerCase()))}),g={draft:"bg-gray-100 text-gray-800 hover:bg-gray-200",published:"bg-blue-100 text-blue-800 hover:bg-blue-200",active:"bg-green-100 text-green-800 hover:bg-green-200",completed:"bg-purple-100 text-purple-800 hover:bg-purple-200",archived:"bg-amber-100 text-amber-800 hover:bg-amber-200"},v={draft:"Brouillon",published:"Publié",active:"Actif",completed:"Terminé",archived:"Archivé"},d=s=>s?new Date(s).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"Non définie";return e.jsxs(C,{children:[e.jsx(y,{title:"Gestion des éditions"}),e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(S,{className:"shadow-lg border-t-4 border-t-green-500",children:[e.jsx(B,{className:"bg-slate-50 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(L,{className:"text-2xl flex items-center",children:[e.jsx(o,{className:"h-6 w-6 mr-2 text-green-500"}),"Gestion des éditions"]}),e.jsxs(z,{className:"text-slate-500",children:[a.total," édition",a.total>1?"s":""," au total"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(j,{children:[e.jsx(p,{asChild:!0,children:e.jsxs(t,{variant:"outline",className:"flex items-center",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Exporter"]})}),e.jsxs(u,{align:"end",children:[e.jsx(l,{children:"Export CSV"}),e.jsx(l,{children:"Export Excel"}),e.jsx(l,{children:"Export PDF"})]})]}),e.jsx(r,{href:route("admin.editions.create"),children:e.jsxs(t,{className:"flex items-center bg-green-600 hover:bg-green-700",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Nouvelle édition"]})})]})]})}),e.jsxs(M,{className:"p-6",children:[e.jsx("div",{className:"mb-6 flex flex-wrap gap-4 justify-between items-center",children:e.jsxs("div",{className:"relative flex-1 min-w-[250px]",children:[e.jsx(F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(T,{placeholder:"Rechercher une édition...",className:"pl-10",value:n,onChange:s=>b(s.target.value)})]})}),e.jsx("div",{className:"rounded-lg border overflow-hidden",children:e.jsxs(A,{children:[e.jsx(E,{children:e.jsxs(x,{className:"bg-slate-50",children:[e.jsx(c,{className:"text-slate-700 font-semibold",children:"Édition"}),e.jsx(c,{className:"text-slate-700 font-semibold",children:"Période"}),e.jsx(c,{className:"text-slate-700 font-semibold",children:"Inscriptions"}),e.jsx(c,{className:"text-slate-700 font-semibold",children:"Candidatures"}),e.jsx(c,{className:"text-slate-700 font-semibold",children:"Statut"}),e.jsx(c,{className:"text-right text-slate-700 font-semibold",children:"Actions"})]})}),e.jsx(_,{children:h.length>0?h.map(s=>e.jsxs(x,{className:"hover:bg-slate-50",children:[e.jsx(i,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 font-bold",children:s.year.toString().slice(-2)}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:[s.name,s.is_current&&e.jsx(f,{className:"ml-2 bg-green-100 text-green-800 hover:bg-green-200",children:"Courante"})]}),e.jsxs("div",{className:"text-sm text-slate-500",children:["Année: ",s.year]})]})]})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(o,{className:"h-3 w-3 mr-2 text-slate-400"}),"Du ",d(s.start_date)]}),e.jsxs("div",{className:"flex items-center text-sm text-slate-500",children:[e.jsx(o,{className:"h-3 w-3 mr-2 text-slate-400"}),"Au ",d(s.end_date)]})]})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(R,{className:"h-3 w-3 mr-2 text-slate-400"}),"Fin: ",d(s.registration_deadline)]}),e.jsxs("div",{className:"flex items-center text-sm text-slate-500",children:[e.jsx(I,{className:"h-3 w-3 mr-2 text-slate-400"}),"Max: ",s.max_participants," participants"]})]})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(N,{className:"h-4 w-4 mr-2 text-blue-500"}),e.jsx("span",{className:"font-medium",children:s.applications_count||0}),e.jsxs("span",{className:"text-slate-500 ml-1",children:["candidature",(s.applications_count||0)>1?"s":""]})]}),e.jsx(r,{href:route("admin.applications.by-edition.show",s.id),children:e.jsx(t,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",children:"Voir"})})]})}),e.jsx(i,{children:e.jsx(f,{className:`${g[s.status]||"bg-gray-100 text-gray-800"}`,children:v[s.status]||s.status})}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(r,{href:route("admin.editions.show",s.id),children:e.jsx(t,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(H,{className:"h-4 w-4"})})}),e.jsx(r,{href:route("admin.editions.edit",s.id),children:e.jsx(t,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(V,{className:"h-4 w-4"})})}),e.jsxs(j,{children:[e.jsx(p,{asChild:!0,children:e.jsx(t,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsxs(u,{align:"end",children:[e.jsx(l,{children:e.jsxs(r,{href:route("admin.applications.by-edition.show",s.id),className:"flex items-center w-full",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Voir les candidatures"]})}),e.jsx(l,{children:"Définir comme courante"}),e.jsx(l,{children:"Dupliquer"}),e.jsx(D,{}),e.jsx(l,{className:"text-red-600",children:e.jsxs(r,{href:route("admin.editions.destroy",s.id),method:"delete",as:"button",className:"w-full text-left flex items-center",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Supprimer"]})})]})]})]})})]},s.id)):e.jsx(x,{children:e.jsx(i,{colSpan:6,className:"text-center py-8 text-gray-500",children:n?"Aucune édition ne correspond à votre recherche":"Aucune édition trouvée"})})})]})}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Affichage de ",(a.current_page-1)*a.per_page+1," à ",Math.min(a.current_page*a.per_page,a.total)," sur ",a.total," éditions"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(r,{href:a.links[0].url||"#",disabled:!a.links[0].url,children:e.jsx(t,{variant:"outline",size:"sm",disabled:!a.links[0].url,children:e.jsx(W,{className:"h-4 w-4"})})}),a.links.slice(1,-1).map((s,m)=>e.jsx(r,{href:s.url||"#",disabled:!s.url,children:e.jsx(t,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,children:s.label})},m)),e.jsx(r,{href:a.links[a.links.length-1].url||"#",disabled:!a.links[a.links.length-1].url,children:e.jsx(t,{variant:"outline",size:"sm",disabled:!a.links[a.links.length-1].url,children:e.jsx(q,{className:"h-4 w-4"})})})]})]})]})]})})})]})}export{ge as default};
