import{U as E,r as m,b as x,j as e,B as T,W as c}from"./app-BzYMqYyu.js";import{A,D as k,a as q,b as z,c as o,d as B,S as F,e as M}from"./app-layout-ZuaU15Zf.js";import{B as d}from"./badge-RecYBSBP.js";import{B as a}from"./button-Xhgy9Aip.js";import{C as t,a as h,b as j,c as p,d as i,e as P}from"./card-goTVSTKG.js";import{T as R,a as L,b as u,c as f}from"./tabs-5YM5qnYK.js";import{C as n}from"./calendar-DfF61T53.js";import{S as N}from"./star-C93hJXXj.js";import{P as I}from"./pencil-BEw6YV6_.js";import{E as U}from"./ellipsis-CeJ-XQQt.js";import{R as G}from"./rotate-ccw-Cxik8z_l.js";import{T as g}from"./trash-GtE1me3H.js";import{I as b}from"./info-CW1ZmSVM.js";import{U as v}from"./users-CmzQaYbM.js";import{C as w}from"./clock-DuWvT7_a.js";import{C as V}from"./check-CCkaZJAm.js";import{F as W}from"./index-CZBcc_4f.js";import"./index-uw1hpYez.js";import"./index-BCsrd3KU.js";import"./index-D9H5YUaI.js";import"./x-CjcniJTF.js";import"./createLucideIcon-ePX0JgK8.js";import"./app-logo-icon-DEg5AZqv.js";const pe=E.memo(function({edition:s}){const C={draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-purple-100 text-purple-800",archived:"bg-amber-100 text-amber-800"},y={draft:"Brouillon",published:"Publié",active:"Actif",completed:"Terminé",archived:"Archivé"},D=m.useCallback(()=>{confirm("Êtes-vous sûr de vouloir supprimer cette édition ?")&&x.delete(route("admin.editions.destroy",s.id),{onSuccess:()=>{},onError:r=>{console.error("Erreur lors de la suppression:",r)}})},[s.id]),S=m.useCallback(()=>{x.post(route("admin.editions.restore",s.id),{},{onSuccess:()=>{},onError:r=>{console.error("Erreur lors de la restauration:",r)}})},[s.id]),_=m.useCallback(()=>{confirm("Êtes-vous sûr de vouloir supprimer définitivement cette édition ? Cette action est irréversible.")&&x.delete(route("admin.editions.force-delete",s.id),{onSuccess:()=>{},onError:r=>{console.error("Erreur lors de la suppression définitive:",r)}})},[s.id]),l=r=>r?new Date(r).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"Non définie";return e.jsxs(A,{children:[e.jsx(T,{title:`Édition ${s.name}`}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex flex-col gap-6",children:e.jsxs(t,{className:"border-t-4 border-t-green-500 shadow-lg",children:[e.jsx(h,{className:"bg-slate-50 border-b",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsxs(j,{className:"text-2xl flex items-center",children:[e.jsx(n,{className:"h-6 w-6 mr-2 text-green-500"}),s.name]}),e.jsxs(p,{className:"flex items-center gap-2 mt-1",children:[e.jsx(d,{className:C[s.status]||"bg-gray-100",children:y[s.status]||s.status}),s.is_current&&e.jsxs(d,{className:"bg-green-100 text-green-800",children:[e.jsx(N,{className:"h-3 w-3 mr-1"}),"Édition courante"]}),s.deleted_at&&e.jsx(d,{className:"bg-red-100 text-red-800",children:"Supprimée"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{href:route("admin.editions.edit",s.id),children:e.jsxs(a,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),"Modifier"]})}),e.jsxs(k,{children:[e.jsx(q,{asChild:!0,children:e.jsxs(a,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Actions"]})}),e.jsx(z,{align:"end",children:s.deleted_at?e.jsxs(e.Fragment,{children:[e.jsxs(o,{onClick:S,children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Restaurer"]}),e.jsx(B,{}),e.jsxs(o,{className:"text-red-500",onClick:_,children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Supprimer définitivement"]})]}):e.jsxs(o,{className:"text-red-500",onClick:D,children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Supprimer"]})})]})]})]})}),e.jsx(i,{className:"p-6",children:e.jsxs(R,{defaultValue:"informations",className:"w-full",children:[e.jsxs(L,{className:"grid grid-cols-3 mb-6",children:[e.jsxs(u,{value:"informations",className:"flex items-center gap-2",children:[e.jsx(b,{size:16}),e.jsx("span",{children:"Informations"})]}),e.jsxs(u,{value:"statistiques",className:"flex items-center gap-2",children:[e.jsx(v,{size:16}),e.jsx("span",{children:"Statistiques"})]}),e.jsxs(u,{value:"parametres",className:"flex items-center gap-2",children:[e.jsx(F,{size:16}),e.jsx("span",{children:"Configuration"})]})]}),e.jsxs(f,{value:"informations",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(b,{className:"h-5 w-5 mr-2 text-slate-500"}),"Détails de l'édition"]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Nom:"})," ",s.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Année:"})," ",s.year]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Description:"}),e.jsx("p",{className:"mt-1 text-slate-600",children:s.description||"Aucune description fournie"})]}),s.deleted_at&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Supprimée le:"}),e.jsx("p",{className:"mt-1 text-red-600",children:l(s.deleted_at)})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(n,{className:"h-5 w-5 mr-2 text-slate-500"}),"Dates importantes"]}),e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{className:"h-4 w-4 mr-2 text-green-500"}),e.jsx("span",{className:"font-medium text-slate-700 w-40",children:"Date de début:"}),l(s.start_date)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{className:"h-4 w-4 mr-2 text-red-500"}),e.jsx("span",{className:"font-medium text-slate-700 w-40",children:"Date de fin:"}),l(s.end_date)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"h-4 w-4 mr-2 text-blue-500"}),e.jsx("span",{className:"font-medium text-slate-700 w-40",children:"Début des inscriptions:"}),l(s.registration_start_date)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"h-4 w-4 mr-2 text-amber-500"}),e.jsx("span",{className:"font-medium text-slate-700 w-40",children:"Fin des inscriptions:"}),l(s.registration_deadline)]})]})]})]}),e.jsx(M,{}),e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(t,{children:e.jsxs(i,{className:"p-4 flex items-center justify-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(n,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Phases"}),e.jsx("p",{className:"text-2xl font-bold",children:s.phases_count||0})]})]})}),e.jsx(t,{children:e.jsxs(i,{className:"p-4 flex items-center justify-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx(N,{className:"h-6 w-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Prix"}),e.jsx("p",{className:"text-2xl font-bold",children:s.prizes_count||0})]})]})}),e.jsx(t,{children:e.jsxs(i,{className:"p-4 flex items-center justify-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(v,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Participants"}),e.jsx("p",{className:"text-2xl font-bold",children:s.participants_count||0})]})]})})]})})]}),e.jsx(f,{value:"statistiques",className:"space-y-6",children:e.jsxs(t,{children:[e.jsxs(h,{children:[e.jsx(j,{className:"text-lg",children:"Statistiques de participation"}),e.jsx(p,{children:"Données de participation pour cette édition"})]}),e.jsx(i,{children:e.jsx("div",{className:"py-6 text-center text-slate-500",children:"Cette section affichera des graphiques et statistiques détaillées une fois l'implémentation complétée."})})]})}),e.jsx(f,{value:"parametres",className:"space-y-6",children:e.jsxs(t,{children:[e.jsxs(h,{children:[e.jsx(j,{className:"text-lg",children:"Paramètres avancés"}),e.jsx(p,{children:"Configuration et paramètres de l'édition"})]}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Définir comme édition courante"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Cette édition sera mise en avant sur le site"})]}),e.jsx("div",{children:s.is_current?e.jsxs(d,{className:"bg-green-100 text-green-800",children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Activé"]}):e.jsx(a,{size:"sm",children:"Activer"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Limite d'inscriptions"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Nombre maximum de participants"})]}),e.jsx("div",{children:e.jsx("span",{className:"font-medium",children:s.max_participants})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Archiver l'édition"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Marquer l'édition comme terminée et archivée"})]}),e.jsx("div",{children:e.jsx(a,{size:"sm",variant:"outline",children:"Archiver"})})]})]})})]})})]})}),e.jsxs(P,{className:"bg-slate-50 border-t py-4 flex justify-between",children:[e.jsx(a,{variant:"outline",onClick:()=>window.history.back(),children:"Retour à la liste"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{href:route("admin.editions.phases.index",s.id),children:e.jsx(a,{className:"bg-blue-600 hover:bg-blue-700",children:"Gérer les phases"})}),e.jsx(c,{href:route("admin.editions.prizes.index",s.id),children:e.jsx(a,{className:"bg-amber-600 hover:bg-amber-700",children:"Gérer les prix"})}),e.jsx(c,{href:route("admin.applications.by-edition.show",s.id),children:e.jsxs(a,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Voir les candidatures"]})})]})]})]})})})})]})});export{pe as default};
